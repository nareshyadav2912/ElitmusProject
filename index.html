<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	<!-- Bootstrap theme -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
	<title>ElitmusProject</title>
</head>

<body>
	<style>
		body {
			background-color: azure;
			text-align: center;
			padding-top: 200px;
			padding-left: 540px;
		}
	</style>
	<div class="container">
	<form name="login_form" id="login_form" method="post" action="#" enctype="multipart/form-data">
		<div class="row">

			<div class="col-sm-4">
				<div class="form-group">
					<label for="email">Email</label>
					<input type="text" name="login_email" id="login_email" class="form-control"
						placeholder="Enter your email">
				</div>

				<div class="form-group">
					<label for="password">Password</label>
					<input type="password" name="login_password" id="login_password" class="form-control"
						placeholder="Enter your password">
				</div>
				<p>Don't have an account?</p><a href="register.html">Register Here!</a><br><br>
				<button type="button" id="login" name="login" class="btn btn-success">Login</button>
			</div>
	</form>
	<div class="col-sm-4">
	</div>
	<script type="module">

		import { initializeApp } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-app.js";
		import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-analytics.js";
		import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-auth.js";

		const firebaseConfig = {
			apiKey: "AIzaSyDbhQ9is2BohbjdUygtYtHMcs7zF8ddC_k",
			authDomain: "elitmus-bf272.firebaseapp.com",
			projectId: "elitmus-bf272",
			storageBucket: "elitmus-bf272.appspot.com",
			messagingSenderId: "669312198430",
			appId: "1:669312198430:web:3141712a5c791280908b0f",
			measurementId: "G-38961SH6W2"
		};

		const app = initializeApp(firebaseConfig);
		const analytics = getAnalytics(app);
		const auth = getAuth();
		console.log(app);

		document.getElementById("login").addEventListener("click", function () {
			var email = document.getElementById("login_email").value;
			var password = document.getElementById("login_password").value;

			signInWithEmailAndPassword(auth, email, password)
				.then((userCredential) => {
					const user = userCredential.user;
					console.log(user);
					window.location.href = "home1.html"
					alert(user.email + " Login successfully!!!");
					document.getElementById('logout').style.display = 'block';
				})
				.catch((error) => {
					const errorCode = error.code;
					const errorMessage = error.message;
					//console.log(errorMessage);
					alert(errorMessage);
				});
		});
	// document.getElementById("logout").addEventListener("click", function () {
	// 	signOut(auth).then(() => {
	// 		// Sign-out successful.
	// 		console.log('Sign-out successful.');
	// 		alert('Sign-out successful.');
	// 		document.getElementById('logout').style.display = 'none';
	// 	}).catch((error) => {
	// 		// An error happened.
	// 		console.log('An error happened.');
	// 	});
	// });

	</script>
</body>

</html>